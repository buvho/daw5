<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responder Pergunta</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">
</head>
<body style="margin: 20px">

    <h1>Responder Pergunta</h1>

    <div id="conteudo"></div>

    <script>
        const id = localStorage.getItem("perguntaId");
        const tipo = localStorage.getItem("perguntaTipo");

        if (!id || !tipo) {
            document.getElementById("conteudo").innerHTML =
                `<div class="alert alert-danger">Nenhuma pergunta selecionada.</div>`;
        } else {

            fetch("buscarPergunta.php?id=" + id + "&tipo=" + tipo)
            .then(response => response.json())
            .then(data => {
                if (data.erro) {
                    document.getElementById("conteudo").innerHTML =
                        `<div class="alert alert-danger">${data.erro}</div>`;
                    return;
                }

                let html = `<h3>${data.pergunta}</h3><br>`;

                if (tipo === "objetiva") {
                    html += `
                        <input type="text" class="form-control" placeholder="Sua resposta...">
                    `;
                } else {
                    html += `
                        <label><input type="radio" name="resp" value="1"> ${data.a}</label><br>
                        <label><input type="radio" name="resp" value="2"> ${data.b}</label><br>
                        <label><input type="radio" name="resp" value="3"> ${data.c}</label><br>
                        <label><input type="radio" name="resp" value="4"> ${data.d}</label><br>
                        <label><input type="radio" name="resp" value="5"> ${data.e}</label><br>
                    `;
                }

                document.getElementById("conteudo").innerHTML = html;
            });
        }
    </script>

</body>
</html>
